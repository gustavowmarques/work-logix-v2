{% extends "core/base.html" %}
{% block content %}
  <h2>Choose a new password</h2>
  {% if validlink %}
    <form method="post" class="card card-body">{% csrf_token %}
      {{ form.non_field_errors }}
      <div class="mb-3">
        <label class="form-label" for="{{ form.new_password1.id_for_label }}">New password</label>
        {{ form.new_password1 }}
        {{ form.new_password1.errors }}
      </div>
      <div class="mb-3">
        <label class="form-label" for="{{ form.new_password2.id_for_label }}">Confirm new password</label>
        {{ form.new_password2 }}
        {{ form.new_password2.errors }}
      </div>
      <button class="btn btn-primary">Set password</button>
    </form>
  {% else %}
    <div class="alert alert-danger">
      The password reset link is invalid or has expired. Please request a new one.
    </div>
    <a class="btn btn-secondary" href="{% url 'password_reset' %}">Request new link</a>
  {% endif %}
{% endblock %}
